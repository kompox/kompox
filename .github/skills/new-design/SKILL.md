---
name: new-design
description: Create a new design document (v1)
---
## Purpose

- Create one new design document under [design/v1].

## Steps

1) Decide file path
  - Standard paths:
    - `design/v1/Kompox-<short-slug>.md` (English)
    - `design/v1/Kompox-<short-slug>.ja.md` (Japanese)
  - Default language is Japanese.
  - Follow the user's instructions if they specify path, language, or slug.
2) Draft the document
  - Use [GUIDE.md] for English documents or [GUIDE.ja.md] for Japanese documents.
  - Follow the schema and template defined in the applicable guide.
  - Refer to existing design documents for structure, depth, and writing style.
3) Apply front-matter rules
  - Set `id` as the design doc-id and keep it unique across the entire repository.
  - Keep `id` aligned with the filename stem (without `.md` / `.ja.md`).
  - Set `version`, `status`, `updated`, and `language` as defined in [GUIDE.md].
4) Apply references rules
  - Keep a markdown reference list at the end of the file.
  - For links to markdown documents that define front-matter `id:`, use that doc-id as the reference label (no `.md` / `.ja.md` in labels).
  - Use label-style references in the body (for example, `[Kompox-ProviderDriver]`).
5) Finalize
  - Run `make gen-index` after creating the file to refresh design indexes.
  - Do NOT manually edit `design/v1/README.md`; it is auto-generated by `make gen-index`.

[design/v1]: ../../../design/v1
[GUIDE.md]: ../../../design/v1/GUIDE.md
[GUIDE.ja.md]: ../../../design/v1/GUIDE.ja.md
